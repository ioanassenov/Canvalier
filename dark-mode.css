/* Canvalier Dark Mode - All rules scoped under html.canvalier-dark-mode */

/* Main backgrounds - body and main containers (darkest layer) */
html.canvalier-dark-mode body,
html.canvalier-dark-mode #application,
html.canvalier-dark-mode #main,
html.canvalier-dark-mode .ic-Layout-wrapper,
html.canvalier-dark-mode .ic-app-main-content,
html.canvalier-dark-mode #dashboard,
html.canvalier-dark-mode #dashboard-app-container,
html.canvalier-dark-mode #dashboard_header_container,
html.canvalier-dark-mode .right-side-wrapper,
html.canvalier-dark-mode #right-side {
  background-color: #1a1a1a !important;
  color: #c3c3c3 !important;
}

/* Left navigation sidebar */
html.canvalier-dark-mode #left-side,
html.canvalier-dark-mode .ic-app-course-menu,
html.canvalier-dark-mode .ic-app-course-nav-toggle-and-crumbs {
  background-color: #1a1a1a !important;
}

/* Canvas header */
html.canvalier-dark-mode .ic-app-header,
html.canvalier-dark-mode #header,
html.canvalier-dark-mode .ic-app-header__main-navigation,
html.canvalier-dark-mode .ic-app-header__secondary-navigation {
  background-color: #1f1f1f !important;
  border-bottom-color: #555555 !important;
}

html.canvalier-dark-mode .ic-app-header__menu-list-item,
html.canvalier-dark-mode .ic-app-header__menu-list-link {
  color: #c3c3c3 !important;
}

html.canvalier-dark-mode .ic-app-header__menu-list-link:hover {
  background-color: #373737 !important;
}

/* Course cards - dark styling */
html.canvalier-dark-mode .ic-DashboardCard {
  background-color: #373737 !important;
  border-color: #555555 !important;
}

html.canvalier-dark-mode .ic-DashboardCard__link {
  background-color: transparent !important;
}

html.canvalier-dark-mode .ic-DashboardCard__header {
  background-color: transparent !important;
}

html.canvalier-dark-mode .ic-DashboardCard__header_content {
  background-color: transparent !important;
}

/* Course card title - background matches surrounding grey, color is dynamically set by JS */
html.canvalier-dark-mode .ic-DashboardCard__header-title {
  background-color: #373737 !important;
  /* Color is now dynamically set via JavaScript to match overlay color */
}

/* Ensure course card title and all its children can have dynamic colors (override general content rules) */
html.canvalier-dark-mode .ic-DashboardCard__header-title,
html.canvalier-dark-mode .ic-DashboardCard__header-title *,
html.canvalier-dark-mode .ic-DashboardCard__header-title span,
html.canvalier-dark-mode .ic-DashboardCard__header-title div {
  /* Don't override color - let JavaScript set it dynamically */
  /* This rule has higher specificity than the general content color rules */
}

html.canvalier-dark-mode .ic-DashboardCard__header-title.ellipsis {
  background-color: #373737 !important;
}

html.canvalier-dark-mode .ic-DashboardCard__header-subtitle,
html.canvalier-dark-mode .ic-DashboardCard__header-term {
  color: #e0e0e0 !important;
}

/* Course card action container (footer area) */
html.canvalier-dark-mode .ic-DashboardCard__action-container,
html.canvalier-dark-mode .ic-DashboardCard__action-layout {
  background-color: #373737 !important;
  border-top-color: #555555 !important;
}

html.canvalier-dark-mode .ic-DashboardCard__action-container a,
html.canvalier-dark-mode .ic-DashboardCard__action-layout a {
  color: #7ba3d1 !important;
}

html.canvalier-dark-mode .ic-DashboardCard__action-container button,
html.canvalier-dark-mode .ic-DashboardCard__action-layout button {
  color: #c3c3c3 !important;
}

/* Dashboard header - transparent to blend with dark background */
html.canvalier-dark-mode .ic-Dashboard-header,
html.canvalier-dark-mode .ic-Dashboard-header__layout {
  background-color: transparent !important;
  color: #c3c3c3 !important;
}

/* Right sidebar container and headers - transparent to blend with dark background */
html.canvalier-dark-mode .Sidebar__TodoListContainer,
html.canvalier-dark-mode .todo-list-header,
html.canvalier-dark-mode .to-do-list,
html.canvalier-dark-mode .todo-list,
html.canvalier-dark-mode .events_list,
html.canvalier-dark-mode .coming_up,
html.canvalier-dark-mode .recent_feedback {
  background-color: transparent !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

/* Individual todo/event items - keep as cards */
html.canvalier-dark-mode .to-do-list__item,
html.canvalier-dark-mode .event-list-item {
  background-color: #373737 !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

/* Todo list item details (points, due dates) - ensure readable text color */
html.canvalier-dark-mode .ToDoSidebarItem__Info,
html.canvalier-dark-mode .ToDoSidebarItem__InformationRow,
html.canvalier-dark-mode .ToDoSidebarItem__InformationRow li,
html.canvalier-dark-mode [data-testid="ToDoSidebarItem__InformationRow"],
html.canvalier-dark-mode [data-testid="ToDoSidebarItem__InformationRow"] li {
  color: #c3c3c3 !important;
}

/* Todo list item icons - make white in dark mode */
html.canvalier-dark-mode .ToDoSidebarItem__Icon,
html.canvalier-dark-mode .ToDoSidebarItem__Icon svg,
html.canvalier-dark-mode .ToDoSidebarItem__Icon path {
  color: #ffffff !important;
  fill: #ffffff !important;
}


/* Event/feedback details - remove white gradient streak */
html.canvalier-dark-mode .event-details,
html.canvalier-dark-mode .event-details__title,
html.canvalier-dark-mode .event-details__context,
html.canvalier-dark-mode .recent_feedback_title {
  background: none !important;
  background-image: none !important;
  color: #c3c3c3 !important;
}

/* Remove white gradient from event-details ::after pseudo-element */
html.canvalier-dark-mode .event-details::after {
  background: none !important;
  background-image: none !important;
  display: none !important;
}


/* Canvas options box - dark theme */
html.canvalier-dark-mode .canvas-options-box {
  background-color: #373737 !important;
  border-color: #555555 !important;
}

html.canvalier-dark-mode .canvas-options-header {
  background-color: #2b2b2b !important;
  border-bottom-color: #555555 !important;
  color: #c3c3c3 !important;
}

html.canvalier-dark-mode .canvas-options-header:hover {
  background-color: #333333 !important;
}

html.canvalier-dark-mode .canvas-options-content,
html.canvalier-dark-mode .canvas-options-inner {
  background-color: #373737 !important;
}

html.canvalier-dark-mode .canvas-option-item {
  background-color: #424242 !important;
  border-bottom-color: #555555 !important;
}

html.canvalier-dark-mode .canvas-option-label {
  color: #c3c3c3 !important;
}

html.canvalier-dark-mode .canvas-options-title {
  color: #c3c3c3 !important;
}

/* Assignment summary container */
html.canvalier-dark-mode .canvas-summary-container {
  background-color: #2e2e2e !important;
  border-top-color: #555555 !important;
}

/* Assignment summary header */
html.canvalier-dark-mode .canvas-summary-header {
  color: #c3c3c3 !important;
}

/* No assignments message - keep green for positive message */
html.canvalier-dark-mode .canvas-summary-empty {
  color: #66bb6a !important;
}

/* Individual assignment items - dark cards */
html.canvalier-dark-mode .canvas-summary-item {
  background-color: #424242 !important;
  border-left-color: #5a9fd4 !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

html.canvalier-dark-mode .canvas-summary-item:hover {
  background-color: #4a4a4a !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4) !important;
}

/* Keep border colors for urgency indicators */
html.canvalier-dark-mode .canvas-summary-item.overdue {
  border-left-color: #e57373 !important;
}

html.canvalier-dark-mode .canvas-summary-item.marked-done {
  background-color: #383838 !important;
  border-left-color: #66bb6a !important;
}

html.canvalier-dark-mode .canvas-summary-item.marked-done:hover {
  background-color: #404040 !important;
}

/* Assignment title link - light color for readability */
html.canvalier-dark-mode .assignment-title-link {
  color: #e0e0e0 !important;
}

html.canvalier-dark-mode .assignment-title-link:hover {
  color: #7ba3d1 !important;
}

/* Marked done items - grey but readable */
html.canvalier-dark-mode .canvas-summary-item.marked-done .assignment-title-link {
  color: #999999 !important;
}

/* Assignment due date text */
html.canvalier-dark-mode .assignment-due {
  color: #b0b0b0 !important;
}

/* Keep marked done icon green */
html.canvalier-dark-mode .assignment-marked-done-icon {
  color: #66bb6a !important;
}

/* Show more button */
html.canvalier-dark-mode .canvas-summary-more {
  background-color: rgba(90, 159, 212, 0.2) !important;
  color: #7ba3d1 !important;
}

html.canvalier-dark-mode .canvas-summary-more:hover {
  background-color: rgba(90, 159, 212, 0.3) !important;
}

/* Loading state */
html.canvalier-dark-mode .canvas-summary-loading {
  color: #999999 !important;
}

/* General text colors */
html.canvalier-dark-mode h1,
html.canvalier-dark-mode h2,
html.canvalier-dark-mode h3,
html.canvalier-dark-mode h4,
html.canvalier-dark-mode h5,
html.canvalier-dark-mode h6,
html.canvalier-dark-mode .ic-Dashboard-header__title {
  color: #c3c3c3 !important;
}

/* Main content text on dark backgrounds */
html.canvalier-dark-mode #content p,
html.canvalier-dark-mode #content div,
html.canvalier-dark-mode #content span,
html.canvalier-dark-mode #content li,
html.canvalier-dark-mode .user_content {
  color: #c3c3c3 !important;
}

/* OVERRIDE: Course card titles should NOT use the general content color - JS sets dynamic colors */
/* This rule must come AFTER the content rule above and have equal/higher specificity */
html.canvalier-dark-mode #dashboard .ic-DashboardCard__header-title,
html.canvalier-dark-mode #dashboard .ic-DashboardCard__header-title *,
html.canvalier-dark-mode .ic-DashboardCard .ic-DashboardCard__header-title,
html.canvalier-dark-mode .ic-DashboardCard .ic-DashboardCard__header-title * {
  color: unset !important;
}

/* Links */
html.canvalier-dark-mode a {
  color: #7ba3d1 !important;
}

html.canvalier-dark-mode a:hover {
  color: #9ac0e8 !important;
}

/* Left sidebar links */
html.canvalier-dark-mode #left-side a,
html.canvalier-dark-mode .ic-app-course-menu a {
  color: #7ba3d1 !important;
}

html.canvalier-dark-mode #left-side a:hover,
html.canvalier-dark-mode .ic-app-course-menu a:hover {
  background-color: #373737 !important;
}

/* Input fields */
html.canvalier-dark-mode input:not([type="checkbox"]):not([type="radio"]):not([type="range"]),
html.canvalier-dark-mode textarea,
html.canvalier-dark-mode select,
html.canvalier-dark-mode .ic-Input {
  background-color: #373737 !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

/* Buttons - but exclude color picker buttons */
html.canvalier-dark-mode button:not([class*="ColorPicker"]):not([class*="color-picker"]),
html.canvalier-dark-mode .btn:not([class*="ColorPicker"]):not([class*="color-picker"]),
html.canvalier-dark-mode .Button:not([class*="ColorPicker"]):not([class*="color-picker"]) {
  background-color: #4a4a4a !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

html.canvalier-dark-mode button:not([class*="ColorPicker"]):not([class*="color-picker"]):hover,
html.canvalier-dark-mode .btn:not([class*="ColorPicker"]):not([class*="color-picker"]):hover,
html.canvalier-dark-mode .Button:not([class*="ColorPicker"]):not([class*="color-picker"]):hover {
  background-color: #5a5a5a !important;
}

/* Tables */
html.canvalier-dark-mode table,
html.canvalier-dark-mode .table,
html.canvalier-dark-mode table th,
html.canvalier-dark-mode table td {
  background-color: #373737 !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

html.canvalier-dark-mode table tr:hover,
html.canvalier-dark-mode .table tr:hover {
  background-color: #4a4a4a !important;
}

/* Modals and overlays */
html.canvalier-dark-mode .ui-dialog,
html.canvalier-dark-mode .ui-widget-content,
html.canvalier-dark-mode .ui-widget-header,
html.canvalier-dark-mode .ReactModal__Content {
  background-color: #373737 !important;
  color: #c3c3c3 !important;
  border-color: #555555 !important;
}

/* Code blocks */
html.canvalier-dark-mode code,
html.canvalier-dark-mode pre,
html.canvalier-dark-mode .CodeMirror {
  background-color: #1f1f1f !important;
  color: #c3c3c3 !important;
}

/* Scrollbars */
html.canvalier-dark-mode ::-webkit-scrollbar {
  background-color: #2b2b2b !important;
}

html.canvalier-dark-mode ::-webkit-scrollbar-thumb {
  background-color: #555555 !important;
}

html.canvalier-dark-mode ::-webkit-scrollbar-thumb:hover {
  background-color: #666666 !important;
}

/* Toggle switches - keep their colors for visibility */
html.canvalier-dark-mode .canvas-toggle-slider {
  background-color: #666666 !important;
}

html.canvalier-dark-mode .canvas-toggle-switch input:checked + .canvas-toggle-slider {
  background-color: #5a9fd4 !important;
}

/* Range sliders */
html.canvalier-dark-mode .canvas-range-slider {
  background: linear-gradient(to right, #5a9fd4 0%, #5a9fd4 100%) !important;
}

html.canvalier-dark-mode .canvas-range-slider::-webkit-slider-thumb {
  background: #5a9fd4 !important;
  border-color: #2b2b2b !important;
}

html.canvalier-dark-mode .canvas-range-slider::-moz-range-thumb {
  background: #5a9fd4 !important;
  border-color: #2b2b2b !important;
}

html.canvalier-dark-mode .canvas-range-slider::-moz-range-track {
  background: #555555 !important;
}
